{"ast":null,"code":"/*!\n * Cluster\n * Copyright(c) 2011 LearnBoost <dev@learnboost.com>\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\nvar Master = require('./master'),\n    fs = require('fs');\n/**\n * Export `start` as the module.\n */\n\n\nexports = module.exports = start;\n/**\n * Library version.\n */\n\nexports.version = '0.7.7';\n/**\n * Expose utils.\n */\n\nexports.utils = require('./utils');\n/**\n * Start a new `Master` with the given `server`.\n *\n * @param {http.Server} server\n * @return {Master}\n * @api public\n */\n\nfunction start(server) {\n  return new Master(server);\n}\n/**\n * Expose middleware via lazy-requires.\n */\n\n\nfs.readdirSync(__dirname + '/plugins').forEach(function (plugin) {\n  plugin = plugin.replace('.js', '');\n\n  exports.__defineGetter__(plugin, function () {\n    return require('./plugins/' + plugin);\n  });\n});","map":null,"metadata":{},"sourceType":"script"}